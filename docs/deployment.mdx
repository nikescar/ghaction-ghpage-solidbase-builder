---
title: Deployment
description: How to deploy your mdx-sitegen-solidbase site
---

# Deployment

Learn how to deploy your mdx-sitegen-solidbase site using multiple deployment providers including GitHub Pages, Firebase, and Cloudflare Pages.

**Current Status:** This theme supports GitHub Workflow deployment with multiple hosting providers including GitHub Pages, Firebase Hosting, and Cloudflare Pages.

## Quick Start with GitHub Workflow

### 1. Copy the GitHub Workflow File

Copy [`.github/workflows/vite.docs.yml`](../.github/workflows/vite.docs.yml) to your repository:

```yaml
name: Deploy static content to Pages
on:
  push:
    branches: ['main']
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: 'pages'
  cancel-in-progress: true

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: clone solidbase theme github
        run: |
          export PATH="/opt/hostedtoolcache/node/22.x.x/x64/bin/:$PATH"
          export theme_upstream=$(grep -m1 'theme_upstream:' _config.yml | awk '{print $2}' | sed "s/'//g")/archive/refs/heads/main.tar.gz
          wget -q "$theme_upstream" -O main.tar.gz
          mkdir -p .solidbase
          tar -xzf main.tar.gz --strip-components=1 -C .solidbase
          pushd ./.solidbase
          bash ghworkflow.sh --src-path ../
          popd
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          CLOUDFLARE_PAGES_TOKEN: ${{ secrets.CLOUDFLARE_PAGES_TOKEN }}
          FIREBASE_SERVICE_ACCOUNT_KEY: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_KEY }}
```

### 2. Configure Your Deployment Provider

Edit your `_config.yml` to specify your deployment provider:

```yaml
# For GitHub Pages (no additional configuration needed)
deployment:
  provider: 'github'

# For Cloudflare Pages
deployment:
  provider: 'cloudflare-pages'
  project: 'your-project-name'
  cloudflare_pages_token: ${{ secrets.CLOUDFLARE_PAGES_TOKEN }}

# For Firebase
deployment:
  provider: 'firebase'
  project: 'your-firebase-project-id'
  service_account_key_text: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_KEY }}
```

## Local Development and Build

### Build Locally
```bash
npm install
npm run build
# Files generated in .output/public/ ready for deployment
```

### Serve Locally
```bash
cd .output/public && npx serve
# or
npm run dev  # for development mode
```

## Deployment Options

### Deploy to GitHub Pages

#### Option 1: Using GitHub Workflow (Recommended)
1. Copy the workflow file to `.github/workflows/vite.docs.yml`
2. Configure `_config.yml` with `provider: 'github'`
3. Enable GitHub Pages in repository settings (Source: GitHub Actions)
4. Push to main branch - automatic deployment!

#### Manual Deployment to GitHub Pages
```bash
# Configure _config.yml with GitHub Pages settings
# Then deploy using NPX command
npx github:nikescar/mdx-sitegen-solidbase

# Check generated files
cd .solidbase/.output/public && npx serve
```

## Provider-Specific Setup

While the deployment command is unified, each provider requires initial setup:

### GitHub Pages Setup
1. Enable GitHub Pages in repository settings (Source: GitHub Actions)
2. Configure `_config.yml` with `provider: 'github'`
3. Use the GitHub Workflow for automatic deployment on push

### Cloudflare Pages Setup
1. Create a Cloudflare Pages project at [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. Generate a Cloudflare Pages API token
3. Configure secrets if using GitHub Workflow, or use local `.secrets` file
4. Set `provider: 'cloudflare-pages'` in `_config.yml`

### Firebase Hosting Setup  
1. Create a Firebase project at [Firebase Console](https://console.firebase.google.com/)
2. Create a service account with "Firebase Admin SDK" role
3. Generate and download the service account key (JSON)
4. Configure secrets if using GitHub Workflow, or use local `.secrets` file
5. Set `provider: 'firebase'` in `_config.yml`

## Unified Deployment Command

All deployment providers use the same simple command:

```bash
npx github:nikescar/mdx-sitegen-solidbase
```

This single command will:
1. Read your `_config.yml` configuration
2. Download the latest theme
3. Process your content based on include/exclude rules
4. Build the site with SolidJS and Vinxi
5. Deploy to your configured provider automatically

The deployment target is determined by the `deployment.provider` setting in your `_config.yml`:

```yaml
# GitHub Pages deployment
deployment:
  provider: 'github'

# Cloudflare Pages deployment  
deployment:
  provider: 'cloudflare-pages'
  project: 'your-project-name'
  cloudflare_pages_token: ${{ secrets.CLOUDFLARE_PAGES_TOKEN }}

# Firebase Hosting deployment
deployment:
  provider: 'firebase'
  project: 'your-firebase-project-id'
  service_account_key_text: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_KEY }}
```

## Local Testing

To test your site locally before deployment:

```bash
# Deploy locally (builds but doesn't publish)
npx github:nikescar/mdx-sitegen-solidbase

# Serve the generated site
cd .solidbase/.output/public && npx serve
```

## Local Secrets Configuration

For local deployment with sensitive tokens, create a `.secrets` file:

```bash
# .secrets file (add to .gitignore)
CLOUDFLARE_PAGES_TOKEN=your_cloudflare_token_here
FIREBASE_SERVICE_ACCOUNT_KEY='{"type":"service_account",...}'
```

Then run the deployment command:
```bash
npx github:nikescar/mdx-sitegen-solidbase
```

The command will automatically read secrets from the `.secrets` file and deploy to your configured provider.

## Troubleshooting Deployment

### Common Issues

1. **Build Failures**: Check Node.js version (requires 22+)
2. **Asset 404s**: Ensure assets are in `include:` list in `_config.yml`
3. **Routing Issues**: Verify `site_url` matches your hosting provider
4. **Secrets Not Found**: Check GitHub repository secrets configuration

### Debug Mode

Enable debug mode for verbose output:

```bash
# Set debug environment variable
DEBUG=1 npx github:nikescar/mdx-sitegen-solidbase
```

### Manual Build Steps

If automatic deployment fails, try manual build:

```bash
# Clone theme manually
git clone https://github.com/nikescar/mdx-sitegen-solidbase.git .solidbase
cd .solidbase

# Run build script
bash ghworkflow.sh --src-path ../
```

## SPA Routing and 404 Handling

The theme generates a Single Page Application (SPA) with client-side routing. For proper routing on static hosts:

### GitHub Pages
- Uses `_404.html` for SPA routing
- Automatically configured by the build process

### Cloudflare Pages  
- Supports SPA routing natively
- `_redirects` file is generated automatically

### Firebase Hosting
- Configure in `firebase.json`:
```json
{
  "hosting": {
    "public": ".output/public",
    "rewrites": [
      {
        "source": "**",
        "destination": "/index.html"
      }
    ]
  }
}
```

